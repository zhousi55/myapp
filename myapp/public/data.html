<!DOCTYPE html>
<html style="height: 80%">
   <head>
       <meta charset="utf-8">
       <script type="text/javascript" src="static/js/jquery.min.js"></script>
       <script type="text/javascript" src="static/echarts/echarts-all-3.js"></script>
   </head>
   <body style="height: 80%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript">
       			var UsArr = [0,0,0,0];
				var MexicoArr = [0,0,0,0];
				var AsiaArr = [0,0,0,0];
				var EuropeArr = [0,0,0,0];

				var AsiaStr = localStorage.getItem("Asia");
				var USStr = localStorage.getItem("US");
				var MexicoStr = localStorage.getItem("Mexico");
				var EuropeStr = localStorage.getItem("Europe");

				if(AsiaStr != null){
					AsiaArr = AsiaStr.split(",");
				}
				if(USStr != null){
					UsArr = USStr.split(",");
				}
				if(MexicoStr != null){
					MexicoArr = MexicoStr.split(",");
				}
				if(EuropeStr != null){
					EuropeArr = EuropeStr.split(",");
				}

				console.log(AsiaArr);
				console.log(UsArr);
				console.log(MexicoArr);
				console.log(EuropeArr);

       			var dom = document.getElementById("container");
				var myChart = echarts.init(dom);
				var app = {};
				option = null;
				app.title = 'Demography';
				option = {
					    tooltip : {
					        trigger: 'axis',
					        axisPointer : {
					            type : 'shadow' // line
					        }
					    },
					    legend: {
					        data: ['US', 'Mexico','Asia','Europe']
					    },
					    grid: {
					        left: '3%',
					        right: '4%',
					        bottom: '3%',
					        containLabel: true
					    },
					    xAxis:  {
					        type: 'value'
					    },
					    yAxis: {
					        type: 'category',
					        data: ['US', 'Mexico','Asia','Europe']
					    },
					    series: [
					        {
					            name: 'US',
					            type: 'bar',
					            stack: 'total',
					            label: {
					                normal: {
					                    show: true,
					                    position: 'insideRight'
					                }
					            },
					            data: UsArr
					        },
					        {
					            name: 'Mexico',
					            type: 'bar',
					            stack: 'total',
					            label: {
					                normal: {
					                    show: true,
					                    position: 'insideRight'
					                }
					            },
					            data: MexicoArr
					        },
					        {
					            name: 'Asia',
					            type: 'bar',
					            stack: 'total',
					            label: {
					                normal: {
					                    show: true,
					                    position: 'insideRight'
					                }
					            },
					            data: AsiaArr
					        },
					        {
					            name: 'Europe',
					            type: 'bar',
					            stack: 'total',
					            label: {
					                normal: {
					                    show: true,
					                    position: 'insideRight'
					                }
					            },
					            data: EuropeArr
					        }
					    ]
					};;
					if (option && typeof option === "object") {
					    myChart.setOption(option, true);
					}	
       </script>
   </body>
</html>